{"version":3,"sources":["../src/index.ts"],"sourcesContent":["import express from \"express\";\nimport { initializeIDE } from \"./ide\";\nimport { callbackHandler } from \"./auth\";\nconst dotenv = require(\"dotenv\");\nimport cookieParser from \"cookie-parser\";\n\nconst app = express();\ndotenv.config()\n\napp.use(express.json());\napp.use(express.urlencoded({ extended: true }));\napp.use(cookieParser());\n\napp.get(\"/\", (req, res) => {\n  res.send(\"Hello World!\");\n});\n\napp.get(\"/auth/github\", (req, res) => {\n  const clientId = process.env.GITHUB_CLIENT_ID;\n  res.redirect(\n    `https://github.com/login/oauth/authorize?client_id=${clientId}&scope=user`\n  );\n});\napp.get(\"/auth/callback\", (req, res) => callbackHandler(req, res));\n\napp.get(\"/pod/create/:id\", async (req, res) => {\n  await initializeIDE(req.params.id);\n  res.status(200).send(\"OK\");\n});\n\napp.listen(8000, () => {\n  console.log(\"listening at port 8000\");\n});\n"],"names":["dotenv","require","app","express","config","use","json","urlencoded","extended","cookieParser","get","req","res","send","clientId","process","env","GITHUB_CLIENT_ID","redirect","callbackHandler","initializeIDE","params","id","status","listen","console","log"],"mappings":"AAAA;;;;gDAAoB;qBACU;sBACE;qDAEP;;;;;;AADzB,MAAMA,SAASC,QAAQ;AAGvB,MAAMC,MAAMC,IAAAA,gBAAO;AACnBH,OAAOI,MAAM;AAEbF,IAAIG,GAAG,CAACF,gBAAO,CAACG,IAAI;AACpBJ,IAAIG,GAAG,CAACF,gBAAO,CAACI,UAAU,CAAC;IAAEC,UAAU,IAAI;AAAC;AAC5CN,IAAIG,GAAG,CAACI,IAAAA,qBAAY;AAEpBP,IAAIQ,GAAG,CAAC,KAAK,CAACC,KAAKC,MAAQ;IACzBA,IAAIC,IAAI,CAAC;AACX;AAEAX,IAAIQ,GAAG,CAAC,gBAAgB,CAACC,KAAKC,MAAQ;IACpC,MAAME,WAAWC,QAAQC,GAAG,CAACC,gBAAgB;IAC7CL,IAAIM,QAAQ,CACV,CAAC,mDAAmD,EAAEJ,SAAS,WAAW,CAAC;AAE/E;AACAZ,IAAIQ,GAAG,CAAC,kBAAkB,CAACC,KAAKC,MAAQO,IAAAA,qBAAe,EAACR,KAAKC;AAE7DV,IAAIQ,GAAG,CAAC,mBAAmB,OAAOC,KAAKC,MAAQ;IAC7C,MAAMQ,IAAAA,kBAAa,EAACT,IAAIU,MAAM,CAACC,EAAE;IACjCV,IAAIW,MAAM,CAAC,KAAKV,IAAI,CAAC;AACvB;AAEAX,IAAIsB,MAAM,CAAC,MAAM,IAAM;IACrBC,QAAQC,GAAG,CAAC;AACd"}